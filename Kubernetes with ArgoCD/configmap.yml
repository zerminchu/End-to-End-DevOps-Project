apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default
resources:
  - appservice.yml
  - configmap.yml
  - dbservice.yml
  - dbstatefullset.yml
  - secret.yml
  - appdeployment.yml
  - ingress.yml
  - prometheus-access.yml
configMapGenerator:
  - name: my-config
    literals:
      - MYSQL_DATABASE=myapp_db
      - DB_HOST=mydb.default.svc.cluster.local
      - DB_NAME=myapp_db
    files:
      - init.sql=init.sql
    options:
      disableNameSuffixHash: true